#include <iostream>
#include <ctime>
#include <string>

#define max_guess_count 7

using namespace std ;

const string word[]= {"Naruto","Sasuke","Rasengan","Bankai","Rickroll"};

string Tolower(const string& word){
    string out = string(word.length(),' ') ;
    for(int i=0 ; i< word.length() ;i++) out[i]=tolower(word[i]);
    return out ;
}
string chooseWord(){
    int choose = rand()%(sizeof(word)/sizeof(string));
    return Tolower(word[choose]);
}

void initGame(string& secretWord,string& guessWord,int& badGuessCount){
    secretWord = chooseWord() ;
    int n = secretWord.length()  ;
    guessWord = string(n,'-');
    badGuessCount = 0 ;
}
const string picture[] = {
    "   -------------    \n"
         "   |                \n"
         "   |                \n"
         "   |                \n"
         "   |                \n"
         "   |     \n"
         " -----   \n",

         "   -------------    \n"
         "   |           |    \n"
         "   |                \n"
         "   |                \n"
         "   |                \n"
         "   |     \n"
         " -----   \n",

         "   -------------    \n"
         "   |           |    \n"
         "   |           O    \n"
         "   |                \n"
         "   |                \n"
         "   |     \n"
         " -----   \n",

         "   -------------    \n"
         "   |           |    \n"
         "   |           O    \n"
         "   |           |    \n"
         "   |                \n"
         "   |     \n"
         " -----   \n",

         "   -------------    \n"
         "   |           |    \n"
         "   |           O    \n"
         "   |          /|    \n"
         "   |                \n"
         "   |     \n"
         " -----   \n",

         "   -------------    \n"
         "   |           |    \n"
         "   |           O    \n"
         "   |          /|\\  \n"
         "   |                \n"
         "   |     \n"
         " -----   \n",
  "   -------------    \n"
         "   |           |    \n"
         "   |           O    \n"
         "   |          /|\\  \n"
         "   |          /     \n"
         "   |     \n"
         " -----   \n",

         "   -------------    \n"
         "   |           |    \n"
         "   |           O    \n"
         "   |          /|\\  \n"
         "   |          / \\  \n"
         "   |     \n"
         " -----   \n",
};



void renderGame(const string& secretWord, const string& guessWord, int badGuessCount){
    for(int i=0 ; i<80
     ;i++) cout << "\n";
    cout << secretWord << " " << guessWord << " " << badGuessCount << endl ;
    cout << picture[badGuessCount] << endl;
}

char getInput(){
    string input ;
    cin >> input ;
    string in = Tolower(input) ;
    return in[0] ;
}

bool gameOver(const string& secretWord, const string& guessWord, int badGuessCount){
    return (secretWord==guessWord)||(badGuessCount>=max_guess_count);
}

bool contain (const string& word, char c){
    return (word.find(c)!=string::npos);
}

void update(char input, const string& secretWord, string& guessWord){
    for (int i=0; i<secretWord.length() ; i++ ){
        if(input==secretWord[i]) guessWord[i]=input ;
    }
}
void updateGame(char input, const string& secretWord, string& guessWord, int& badGuessCount){
    if(contain(secretWord,input))
    update(input,secretWord,guessWord);
        else badGuessCount+=1 ;
}
void displayResults(const string& secretWord, const string& guessWord){
    if(secretWord==guessWord) cout << "Correct! You won!\n";
    else cout << "Incorrect! You lost!\n" << "Chiken:((" ;
}
int main()
{
    srand(time(0));

  string secretWord ;
  string guessWord ;
  int badGuessCount;

  initGame(secretWord, guessWord, badGuessCount) ;

  do {
  renderGame(secretWord,guessWord,badGuessCount) ;
  char input = getInput() ;
  updateGame(input,secretWord,guessWord,badGuessCount) ;
  } while (!gameOver(secretWord,guessWord,badGuessCount));
  renderGame(secretWord,guessWord,badGuessCount);
  displayResults(secretWord,guessWord) ;

  return 0;
}
